var colors=function(){'use strict';var XYPoint=function(x,y){this.x=x;this.y=y;};var Red=new XYPoint(0.675,0.322);var Lime=new XYPoint(0.4091,0.518);var Blue=new XYPoint(0.167,0.04);var hexToRed=function(hex){return parseInt(hex.substring(0,2),16);};var hexToGreen=function(hex){return parseInt(hex.substring(2,4),16);};var hexToBlue=function(hex){return parseInt(hex.substring(4,6),16);};var hexToRGB=function(h){var rgb=[hexToRed(h),hexToGreen(h),hexToBlue(h)];return rgb;};var randomFromInterval=function(from,to){return Math.floor(Math.random()*(to-from+1)+from);};var randomRGBValue=function(){return randomFromInterval(0,255);};var crossProduct=function(p1,p2){return(p1.x*p2.y-p1.y*p2.x);};var checkPointInLampsReach=function(p){var v1=new XYPoint(Lime.x-Red.x,Lime.y-Red.y);var v2=new XYPoint(Blue.x-Red.x,Blue.y-Red.y);var q=new XYPoint(p.x-Red.x,p.y-Red.y);var s=crossProduct(q,v2)/crossProduct(v1,v2);var t=crossProduct(v1,q)/crossProduct(v1,v2);return(s>=0.0)&&(t>=0.0)&&(s+t<=1.0);};var getClosestPointToPoint=function(A,B,P){var AP=new XYPoint(P.x-A.x,P.y-A.y);var AB=new XYPoint(B.x-A.x,B.y-A.y);var ab2=AB.x*AB.x+AB.y*AB.y;var ap_ab=AP.x*AB.x+AP.y*AB.y;var t=ap_ab/ab2;if(t<0.0){t=0.0;}else if(t>1.0){t=1.0;}
return new XYPoint(A.x+AB.x*t,A.y+AB.y*t);};var getDistanceBetweenTwoPoints=function(one,two){var dx=one.x-two.x;var dy=one.y-two.y;return Math.sqrt(dx*dx+dy*dy);};var getXYPointFromRGB=function(red,green,blue){var r=(red>0.04045)?Math.pow((red+0.055)/(1.0+0.055),2.4):(red/12.92);var g=(green>0.04045)?Math.pow((green+0.055)/(1.0+0.055),2.4):(green/12.92);var b=(blue>0.04045)?Math.pow((blue+0.055)/(1.0+0.055),2.4):(blue/12.92);var X=r*0.4360747+g*0.3850649+b*0.0930804;var Y=r*0.2225045+g*0.7168786+b*0.0406169;var Z=r*0.0139322+g*0.0971045+b*0.7141733;var cx=X/(X+Y+Z);var cy=Y/(X+Y+Z);cx=isNaN(cx)?0.0:cx;cy=isNaN(cy)?0.0:cy;var xyPoint=new XYPoint(cx,cy);var inReachOfLamps=checkPointInLampsReach(xyPoint);if(!inReachOfLamps){var pAB=getClosestPointToPoint(Red,Lime,xyPoint);var pAC=getClosestPointToPoint(Blue,Red,xyPoint);var pBC=getClosestPointToPoint(Lime,Blue,xyPoint);var dAB=getDistanceBetweenTwoPoints(xyPoint,pAB);var dAC=getDistanceBetweenTwoPoints(xyPoint,pAC);var dBC=getDistanceBetweenTwoPoints(xyPoint,pBC);var lowest=dAB;var closestPoint=pAB;if(dAC<lowest){lowest=dAC;closestPoint=pAC;}
if(dBC<lowest){lowest=dBC;closestPoint=pBC;}
cx=closestPoint.x;cy=closestPoint.y;}
return new XYPoint(cx,cy);};return{hexToCIE1931:function(h){var rgb=hexToRGB(h);return this.rgbToCIE1931(rgb[0],rgb[1],rgb[2]);},rgbToCIE1931:function(red,green,blue){var point=getXYPointFromRGB(red,green,blue);return[point.x,point.y];},getCIEColor:function(hexColor){var hex=hexColor||null;var xy=[];if(null!==hex){xy=this.hexToCIE1931(hex);}else{var r=randomRGBValue();var g=randomRGBValue();var b=randomRGBValue();xy=this.rgbToCIE1931(r,g,b);}
return xy;}};};if(typeof(define)!=='undefined'&&typeof(define.amd)!=='undefined'){define(colors);}else{window.colors=colors();}
